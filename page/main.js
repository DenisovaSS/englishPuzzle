!function(){"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var s=n.getElementsByTagName("script");if(s.length)for(var a=s.length-1;a>-1&&(!t||!/^http(s?):/.test(t));)t=s[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t}();class t{constructor(e){this.element=document.createElement(e.tag),this.createElement(e)}createElement(e){this.setCssClasses(e.classNames),this.setTextContent(e.textContent)}getElement(){return this.element}addInnerElement(e){e instanceof t?this.element.append(e.getElement()):this.element.append(e)}setCssClasses(e){e.map((e=>{var t;null===(t=this.element)||void 0===t||t.classList.add(e)}))}setTextContent(e){this.element&&(this.element.textContent=e)}setId(e){this.element&&(this.element.id=e)}setEventHandler(e,t){this.element.addEventListener(e,t)}}class n{constructor(e){this.elementCreator=this.createView(e)}getHtmlElement(){return this.elementCreator.getElement()}createView(e){const n={tag:e.tag,classNames:e.classNames,textContent:e.textContent};return new t(n)}}var s=e.p+"img/sd..svg";class a extends n{constructor(){super({tag:"header",classNames:["header"],textContent:""}),this.configureView()}configureView(){const e=document.createElement("img");e.src=s,e.classList.add("logo"),this.elementCreator.addInnerElement(e)}}class r extends n{constructor(){super({tag:"main",classNames:["main"],textContent:""})}setContent(e){const t=e.getHtmlElement(),n=this.elementCreator.getElement();if(n){for(;n.firstElementChild;)n.firstElementChild.remove();n.append(t||"")}}}class o extends n{constructor(){super({tag:"footer",classNames:["footer"],textContent:"this is footer"})}}const l="formData";class i extends t{constructor(e){super(e),"input"===e.tag&&this.setInputAttributes(e.inputAttributes)}setInputAttributes(e){const t=this.element;Object.keys(e).forEach((n=>{t.setAttribute(n,e[n])}))}}class m{constructor(e){this.formElement=document.createElement("form"),this.createInputs(e.inputs),this.createButton(e.buttonText),this.setFormSubmitListener(e.onSubmit)}createInputs(e){e.forEach((e=>{this.createLabel(e.inputAttributes.id,e.textContent);const t=new i(e).getElement();this.formElement.appendChild(t)}))}createLabel(e,t){const n=document.createElement("label");n.htmlFor=e,n.textContent=t,this.formElement.appendChild(n)}createButton(e){const t=document.createElement("button");t.type="submit",t.textContent=e,this.formElement.appendChild(t)}setFormSubmitListener(e){this.formElement.addEventListener("submit",(t=>{t.preventDefault(),this.formElement.querySelectorAll(".error").forEach((e=>e.remove())),this.validateInputs()?(this.saveFormDataToLocalStorage(),e(t)):console.log("Form validation failed")}))}validateInputs(){let e=!0;return this.formElement.querySelectorAll("input").forEach((t=>{const n=[];if(""===t.value||null==t.value)n.push("Name cannot be blank");else{/^[A-Za-z-]+$/.test(t.value)||n.push("Please use English alphabet and the hyphen symbol");const e=t.value.charAt(0);e!==e.toUpperCase()&&n.push("First letter is in uppercase"),"firstName"===t.name&&t.value.length<3&&n.push("Please set a minimum length of 3 characters"),"lastName"===t.name&&t.value.length<4&&n.push("Please set a minimum length of 4 characters")}n.length>0&&(e=!1,this.displayValidationError(t,n))})),e}displayValidationError(e,t){const n=document.createElement("div");n.classList.add("error"),e.after(n),n.innerHTML=t.join(", ")}saveFormDataToLocalStorage(){const e={};this.formElement.querySelectorAll("input").forEach((t=>{e[t.name]=t.value})),localStorage.setItem(l,JSON.stringify(e))}getElement(){return this.formElement}}class c extends n{constructor(e){super({tag:"section",classNames:["login"],textContent:""}),this.mainView=e,this.configureView()}configureView(){const e=new t({tag:"h1",classNames:["title"],textContent:"Sign in"});this.elementCreator.addInnerElement(e.getElement());const n={inputs:[{tag:"input",classNames:["form-input"],textContent:"Enter your Name:",inputAttributes:{type:"text",name:"firstName",id:"firstName",placeholder:"Name"}},{tag:"input",classNames:["form-input"],textContent:"Enter your Surname:",inputAttributes:{type:"text",name:"lastName",id:"lastName",placeholder:"Surname"}}],buttonText:"Submit",onSubmit:this.handleFormSubmit.bind(this)},s=new m(n);this.elementCreator.addInnerElement(s.getElement())}handleFormSubmit(e){e.preventDefault(),console.log("Form submitted")}}const u="button";class h extends n{constructor(e){super({tag:"section",classNames:["start-page"],textContent:""}),this.mainView=e,this.configureView()}configureView(){const e=new t({tag:"h1",classNames:["title_start"],textContent:"RSS PUZZLE"});this.elementCreator.addInnerElement(e.getElement());const n=new t({tag:"p",classNames:["description"],textContent:"RSS Puzzle is a fun platform for learning English where you will have to make sentences out of words."});this.elementCreator.addInnerElement(n.getElement());const s={tag:"h2",classNames:["greeting"],textContent:this.greetingCustomer()},a=new t(s);this.elementCreator.addInnerElement(a.getElement());const r=new t({tag:"div",classNames:["btns-container"],textContent:""});this.elementCreator.addInnerElement(r.getElement());const o=new t({tag:"div",classNames:[u,"start-button"],textContent:"Start"});o.setEventHandler("click",this.nextPage),r.addInnerElement(o.getElement());const l=new t({tag:"div",classNames:[u,"logout-button"],textContent:"Logout"});l.setEventHandler("click",(()=>{this.mainView.setContent(new c(this.mainView))})),r.addInnerElement(l.getElement())}greetingCustomer(){let e="hello dear guest";const t=localStorage.getItem(l);if(t){const n=JSON.parse(t),{firstName:s,lastName:a}=n;e=`Welcome in game, ${s} ${a}`,console.log(t)}return e}nextPage(){console.log("here change to Page Game")}}new class{constructor(){this.createView()}createView(){const e=new a,t=new r;t.setContent(new h(t));const n=new o;document.body.append(e.getHtmlElement(),t.getHtmlElement(),n.getHtmlElement())}}}();